## Process this file with automake to produce Makefile.in

PACKAGE = @PACKAGE@
VERSION = @VERSION@
RSYNC = @RSYNC@
ACLOCAL_AMFLAGS = -I m4

bin_PROGRAMS = gwaei

install-data-local: install-symbolic-link
uninstall-local: uninstall-symbolic-link

install-symbolic-link: install-binPROGRAMS
	rm -f $(DESTDIR)$(bindir)/waei
	cp $(DESTDIR)$(bindir)/gwaei $(DESTDIR)$(bindir)/waei
uninstall-symbolic-link:
	rm -f $(DESTDIR)$(bindir)/waei

datadir = @datadir@
localedir = $(datadir)/locale
DEFS = -DLOCALEDIR=\"$(localedir)\" -DVERSION=\"$(VERSION)\" -DPACKAGE=\"$(PACKAGE)\" -DBINDIR=\"$(bindir)\" -DRSYNC=\"$(RSYNC)\" -DGUNZIP=\"$(GUNZIP)\"

gwaei_SOURCES = main.c dictionaries.c engine.c utilities.c io.c regex.c main-interface-console.c formatting.c history.c include/gwaei/main.h include/gwaei/dictionaries.h include/gwaei/utilities.h include/gwaei/io.h include/gwaei/regex.h include/gwaei/engine.h include/gwaei/formatting.h include/gwaei/history.h include/gwaei/definitions.h include/gwaei/preferences.h
gwaei_LDADD =  $(DEPS_LIBS) @LIBINTL@
gwaei_LDFLAGS = -Wall -Wextra -pedantic

AM_CFLAGS = $(DEPS_CFLAGS)
INCLUDES = -I $(top_srcdir)/src/include

##WINDOWS SETUP
if ENABLE_WIN32
DEFS += -LC_MESSAGE=\"C\"
gwaei_SOURCES += main-callbacks-gtk.c main-interface-gtk.c settings.c settings-callbacks-gtk.c settings-interface-gtk.c radicals-interface-gtk.c radicals-callbacks-gtk.c printing-gtk.c include/gwaei/interface.h include/gwaei/callbacks.h include/gwaei/radicals.h include/gwaei/settings.h include/gwaei/printing.h include/gwaei/gtk.h kanjipad/callbacks.c kanjipad/callbacks.h  kanjipad/kanjipad.c kanjipad/kanjipad.h kanjipad/padarea.c kanjipad/padarea.h 
gwaei_SOURCES += sexy-disable.c
gwaei_SOURCES += preferences-none.c
gwaei_SOURCES += help-none.c
gwaei_LDADD += $(GTK_LIBS)
AM_CFLAGS += $(GTK_CFLAGS)
DEFS += -DINTERFACE=\"GTK\"
DEFS += -DLC_MESSAGES=\"C\"
DEFS += -DDATADIR2=\"$(datadir)\"
DEFS += -DCURL_STATICLIB
##Third party regex library for windows
gwaei_LDADD += -lregex
##Libcurl stuffs for zlib, ssl and such
gwaei_LDADD += -lws2_32 -lwinmm -leay32 -lssl32 -lssl -lssh2 -llibz -lcurl
@ENABLE_WIN32_TRUE@am__append_1 = -LC_MESSAGE=\"C\"

##LINUX/UNIX/BSD SETUP
else
DEFS += -DDATADIR2=\"$(datadir)\"

if DISABLE_GNOME
gwaei_SOURCES += preferences-none.c
gwaei_SOURCES += include/gwaei/interface.h include/gwaei/callbacks.h main-interface-none.c sexy-disable.c
DEFS += -DINTERFACE=\"NONE\"

else
gwaei_SOURCES += preferences-gconf.c 
gwaei_LDADD += $(GCONF_LIBS)
AM_CFLAGS += $(GCONF_CFLAGS)
gwaei_SOURCES += main-callbacks-gtk.c main-interface-gtk.c settings.c settings-callbacks-gtk.c settings-interface-gtk.c radicals-interface-gtk.c radicals-callbacks-gtk.c printing-gtk.c include/gwaei/interface.h include/gwaei/callbacks.h include/gwaei/radicals.h include/gwaei/settings.h include/gwaei/printing.h include/gwaei/gtk.h kanjipad/callbacks.c kanjipad/callbacks.h  kanjipad/kanjipad.c kanjipad/kanjipad.h kanjipad/padarea.c kanjipad/padarea.h 
gwaei_SOURCES += help-gtk.c
gwaei_LDADD += $(GNOME_LIBS)
AM_CFLAGS += $(GNOME_CFLAGS)
DEFS += -DINTERFACE=\"GTK\"

if DISABLE_SEXY
gwaei_SOURCES += sexy-disable.c
else
gwaei_SOURCES += sexy-enable.c include/gwaei/sexy.h
gwaei_LDADD += $(SEXY_LIBS)
AM_CFLAGS += $(SEXY_CFLAGS)
endif
endif
endif
